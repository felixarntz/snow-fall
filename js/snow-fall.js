class Snow extends HTMLElement{static random(t,e){return t+Math.floor(Math.random()*(e-t)+1)}static attrs={count:"count",mode:"mode"};generateCss(t,e){let n=[];n.push('\n:host([mode="element"]) {\n\tdisplay: block;\n\tposition: relative;\n\toverflow: hidden;\n}\n:host([mode="page"]) {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n}\n:host([mode="page"]),\n:host([mode="element"]) > * {\n\tpointer-events: none;\n}\n:host([mode="element"]) ::slotted(*) {\n\tpointer-events: all;\n}\n* {\n\tposition: absolute;\n\twidth: var(--snow-fall-size, 10px);\n\theight: var(--snow-fall-size, 10px);\n\tbackground: var(--snow-fall-color, rgba(255,255,255,.5));\n\tborder-radius: 50%;\n}\n');let o={width:100,height:100},a={x:"vw",y:"vh"};"element"===t&&(o={width:this.firstElementChild.clientWidth,height:this.firstElementChild.clientHeight},a={x:"px",y:"px"});for(let t=1;t<=e;t++){let e=Snow.random(1,100)*o.width/100,l=Snow.random(-10,10)*o.width/100,s=Math.round(Snow.random(30,100)),i=s*o.height/100,r=o.height,d=1e-4*Snow.random(1,1e4),h=Snow.random(10,30),m=-1*Snow.random(0,30);n.push(`\n:nth-child(${t}) {\n\topacity: ${.001*Snow.random(0,1e3)};\n\ttransform: translate(${e}${a.x}, -10px) scale(${d});\n\tanimation: fall-${t} ${h}s ${m}s linear infinite;\n}\n\n@keyframes fall-${t} {\n\t${s}% {\n\t\ttransform: translate(${e+l}${a.x}, ${i}${a.y}) scale(${d});\n\t}\n\n\tto {\n\t\ttransform: translate(${e+l/2}${a.x}, ${r}${a.y}) scale(${d});\n\t}\n}`)}return n.join("\n")}connectedCallback(){if(this.shadowRoot||!("replaceSync"in CSSStyleSheet.prototype))return;let t,e=parseInt(this.getAttribute(Snow.attrs.count))||100;this.hasAttribute(Snow.attrs.mode)?t=this.getAttribute(Snow.attrs.mode):(t=this.firstElementChild?"element":"page",this.setAttribute(Snow.attrs.mode,t));let n=new CSSStyleSheet;n.replaceSync(this.generateCss(t,e));let o=this.attachShadow({mode:"open"});o.adoptedStyleSheets=[n];let a=document.createElement("div");for(let t=0,n=e;t<n;t++)o.appendChild(a.cloneNode());o.appendChild(document.createElement("slot"))}}customElements.define("snow-fall",Snow);